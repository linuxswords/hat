{{ template "head" . }}

<div class="container">
    <h1>{{ .Title }}</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Date</th>
                <th>Venue</th>
                <th>Handycap Set</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {{ range .Tournaments }}
            <tr>
                <td>{{ .Name }}</td>
                <td>{{ .Date.Format "2006-01-02" }}</td>
                <td>{{ .Venue }}</td>
                <td>{{ .HandycapSet.Name }}</td>
                <td>
                    <form action="/tournaments/{{ .ID }}" method="post" style="display:inline;">
                        <input type="hidden" name="_method" value="PUT">
                        <button type="submit" class="btn btn-sm btn-primary">Edit</button>
                    </form>
                    <form action="/tournaments/{{ .ID }}" method="post" style="display:inline;">
                        <input type="hidden" name="_method" value="DELETE">
                        <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                    </form>
                </td>
            </tr>
            {{ end }}
        </tbody>
    </table>

    <h2>Add Tournament</h2>
    <form action="/tournaments" method="post">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" name="Name" required>
        </div>
        <div class="form-group">
            <label for="date">Date</label>
            <input type="date" class="form-control" id="date" name="date" required>
        </div>
        <div class="form-group">
            <label for="venue">Venue</label>
            <input type="text" class="form-control" id="venue" name="Venue" required>
        </div>
        <div class="form-group">
            <label for="handycapSetID">Handycap Set</label>
            <select class="form-control" id="handycapSetID" name="handycapSetID" required>
                {{ range .HandycapSets }}
                <option value="{{ .ID }}">{{ .Name }}</option>
                {{ end }}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Add Tournament</button>
    </form>
</div>

{{ template "footer" . }}
